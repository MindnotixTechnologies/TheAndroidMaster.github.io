<!doctype html>
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<html lang="">
<head>
  <meta charset="utf-8">
  <meta name="description" content="A thing">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="Chatroom" />
  <title>Chatroom</title>
  <meta name="theme-color" content="#2E3AA1">
  <link rel="manifest" href="manifest.json">
  <meta name="msapplication-TileColor" content="#3372DF">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="application-name" content="JF">
  <link rel="icon" sizes="256x256" href="http://theandroidmaster.github.io/jf2.ico">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Chatroom">
  <link rel="apple-touch-icon-precomposed" sizes="1997x993" href="http://theandroidmaster.github.io/touch-icon-iphone-retina">
  <link rel="apple-touch-icon-precomposed" sizes="1997x993" href="http://theandroidmaster.github.io/touch-icon-ipad">
  <link rel="apple-touch-icon-precomposed" sizes="1997x993" href="http://theandroidmaster.github.io/touch-icon-ipad-retina">
  <meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png">
  <link rel="stylesheet" href="http://theandroidmaster.github.io/styles/main.css">
  <script src="http://theandroidmaster.github.io/bower_components/webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="http://theandroidmaster.github.io/elements/elements.html">
  <style is="custom-style" include="shared-styles"></style>
  <style>
    img {
      width:100%;
      max-height:100%;
    }
    a {
      color:#303F9F;
      text-decoration: none;
    }
    iframe {
      width:100%;
      border:0px;
      height:1000px;
      overflow:hidden;
    }
    .white {color:#fff;}
    .purple {background-color:#3f51b5;}
    paper-tabs {
      background-color:#2196F3;
      color:#fff;
    }
    paper-tab {color:#fff;}
    paper-toast {z-index:1;}
    paper-item {
      transition: background-color .25s;
      -moz-transition: background-color .25s;
      -webkit-transition: background-color .25s;
    }
    paper-item:hover{
      background-color:#e0e0e0;
    }
    paper-button {
      background-color:#3f51b5;
      color:#fff;
      margin:10px;
    }
    paper-slider {
      width:100%;
    }
    paper-fab {
      position:fixed;
      right:0px;
      bottom:0px;
      margin:20px;
    }
    iron-pages {
      padding: 0px;
    }
    @media (min-width: 601px) {
      section {
        padding: 48px 62px;
      }
      div.horizon {
        display: -webkit-flex;
        display: flex;
      }
      div.ctr {
        width:20%;
      }
    }
    section.nopadding {
      padding:0px;
    }
    paper-material {
      transition: height .25s;
      -moz-transition: height .25s;
      -webkit-transition: height .25s;
    }
    div.horizon {
      padding:0px;
      height:20%;
      width:100%;
      margin: 5% 0px;
    }
    div.horizon::-webkit-scrollbar { 
      display: none; 
    }
    div.ctr {
      margin:auto;
      padding:5px;
    }
    h1.ctr {
      width:100%;
      text-align: center;
    }
    p.ctr {
      width:100%;
      text-align: center;
    }
    .circ { 
      width: 100px;
      height: 100px;
      background-color: #424242; 
      border-radius: 50%;
      padding:20px;
      margin:auto;
    }
  </style>
</head>
<body unresolved class="fullbleed layout vertical">
  <p id="text" style="margin-left:5% margin-top:5%; margin-right:5%; margin-bottom:25%;"></p>
  
  <paper-material elevation="1" style="position:fixed; left:0; right:0; bottom:0; height:20%">
    <paper-input id="msg" label="Message"></paper-input>
    <paper-button raised id="connect" on-click="sendDoc()">Send</paper-button>
  </paper-material>
  
  <paper-dialog id="dialog" modal="" role="dialog" tabindex="-1" aria-modal="true" class="x-scope paper-dialog-0" style="outline: none; z-index: 103; position: fixed; box-sizing: border-box; top: 33.3%; left: 33.3%; right: 33.3%; bottom: 33.3%;">
    <paper-input id="user" label="Username"></paper-input>
    <div class="buttons">
      <paper-button dialog-confirm="" autofocus="" role="button" tabindex="0" animated="" aria-disabled="false" class="x-scope paper-button-0">Log In</paper-button>
    </div>
  </paper-dialog>
  <script>
  document.getElementById("dialog").open();
  
  function getDoc() {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      if (xhttp.readyState == 4 && xhttp.status == 200) {
        document.getElementById("text").innerHTML = xhttp.responseText;
      }
    };
    xhttp.open("GET", "http://theandroidmaster.github.io/apps/server/log.txt", true);
    xhttp.send(null);
  }
  
  function sendDoc() {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      if (xhttp.readyState == 4 && xhttp.status == 200) {
        document.getElementById("text").innerHTML = xhttp.responseText;
        getDoc();
      }
    };
    xhttp.open("POST", "http://theandroidmaster.github.io/apps/server/loghandler.php", true);
    xhttp.send("fname=" + document.getElementById("user").value + "&fcontent=" + document.getElementById("msg").value);
  }
  
  getDoc();
</script>
</body>
